<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Command-line interface &mdash; Graphbrain 0.6.2-dev documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Internals and extending Graphbrain" href="internals.html" />
    <link rel="prev" title="Notebooks and visualizations" href="notebooks.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #333" >
            <a href="../index.html">
            <img src="../_static/graphbrain-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    <div>
    <a href="https://socsemics.huma-num.fr/" style="margin:0px; text-align:center">
        <img style="width: 75%; height: 75%; border-radius: 0px; margin:0px; padding:5px; background:#ffffff" src="/_static/socsemics.png"/>
    </a>
    </div>
    
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials and examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../manual.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="notation.html">Semantic Hypergraph notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="special-relations.html">Special relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="hypergraph-operations.html">Basic hypergraph operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="patterns.html">Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="discovering-patterns.html">Discovering patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="parsing.html">Parsing natural language</a></li>
<li class="toctree-l2"><a class="reference internal" href="readers.html">Readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="corefs.html">Co-reference resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="meaning.html">Meaning extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="backends.html">Hypergraph database backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks.html">Notebooks and visualizations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Command-line interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#commands">Commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create">create</a></li>
<li class="toctree-l4"><a class="reference internal" href="#export">export</a></li>
<li class="toctree-l4"><a class="reference internal" href="#import">import</a></li>
<li class="toctree-l4"><a class="reference internal" href="#txt">txt</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wikipedia">wikipedia</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reddit">reddit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#taxonomy">taxonomy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#names">names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onto">onto</a></li>
<li class="toctree-l4"><a class="reference internal" href="#actors">actors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#claims">claims</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conflicts">conflicts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="internals.html">Internals and extending Graphbrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thanks.html">Thanks</a></li>
</ul>


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #333" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Graphbrain</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../manual.html">Manual</a></li>
      <li class="breadcrumb-item active">Command-line interface</li>
      <li class="wy-breadcrumbs-aside">
              <!-- User defined GitHub URL -->
              <a href="https://github.com/graphbrain/graphbrain" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="command-line-interface">
<h1>Command-line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this heading"></a></h1>
<p>Graphbrain provides a command-line interface that can be used to execute a variety of tasks. You can access it either by using python to run the graphbrain root module as a script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">graphbrain</span> <span class="o">...</span>
</pre></div>
</div>
<p>or using the provided command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graphbrain</span> <span class="o">...</span>
</pre></div>
</div>
<p>All cases below work with both.</p>
<p>Here’s an overview of the interface:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">graphbrain</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">col</span> <span class="n">COL</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">corefs</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">hg</span> <span class="n">HG</span><span class="p">]</span>
                  <span class="p">[</span><span class="o">--</span><span class="n">indir</span> <span class="n">INDIR</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">infile</span> <span class="n">INFILE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">lang</span> <span class="n">LANG</span><span class="p">]</span>
                  <span class="p">[</span><span class="o">--</span><span class="n">outfile</span> <span class="n">OUTFILE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">parser</span> <span class="n">PARSER</span><span class="p">]</span>
                  <span class="p">[</span><span class="o">--</span><span class="n">sequence</span> <span class="n">SEQUENCE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">url</span> <span class="n">URL</span><span class="p">]</span>
                  <span class="n">command</span>

<span class="n">positional</span> <span class="n">arguments</span><span class="p">:</span>
  <span class="n">command</span>               <span class="n">command</span> <span class="n">to</span> <span class="n">execute</span>

<span class="n">optional</span> <span class="n">arguments</span><span class="p">:</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>            <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
  <span class="o">--</span><span class="n">col</span>                 <span class="n">table</span> <span class="n">column</span>
  <span class="o">--</span><span class="n">corefs</span>              <span class="n">perform</span> <span class="n">coreference</span> <span class="n">resolution</span>
  <span class="o">--</span><span class="n">hg</span> <span class="n">HG</span>               <span class="n">hypergraph</span> <span class="n">db</span>
  <span class="o">--</span><span class="n">indir</span> <span class="n">INDIR</span>         <span class="nb">input</span> <span class="n">directory</span>
  <span class="o">--</span><span class="n">infile</span> <span class="n">INFILE</span>       <span class="nb">input</span> <span class="n">file</span>
  <span class="o">--</span><span class="n">lang</span> <span class="n">LANG</span>           <span class="n">language</span>
  <span class="o">--</span><span class="n">outfile</span> <span class="n">OUTFILE</span>     <span class="n">output</span> <span class="n">file</span>
  <span class="o">--</span><span class="n">parser</span> <span class="n">PARSER</span>       <span class="n">parser</span>
  <span class="o">--</span><span class="n">sequence</span> <span class="n">SEQUENCE</span>   <span class="n">sequence</span> <span class="n">name</span>
  <span class="o">--</span><span class="n">url</span> <span class="n">URL</span>             <span class="n">url</span>
</pre></div>
</div>
<p>The only obligatory argument, command, is used to specify the task to perform. Each command uses a subset of the optional arguments. Presented below are the details for each command.</p>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this heading"></a></h2>
<section id="create">
<h3>create<a class="headerlink" href="#create" title="Permalink to this heading"></a></h3>
<p>Creates an empty hypergraph database:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graphbrain</span> <span class="o">--</span><span class="n">hg</span> <span class="o">&lt;</span><span class="n">hypergraph_database</span><span class="o">&gt;</span> <span class="n">create</span>
</pre></div>
</div>
</section>
<section id="export">
<h3>export<a class="headerlink" href="#export" title="Permalink to this heading"></a></h3>
<p>Exports a hypergraph database to a JSON file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graphbrain</span> <span class="o">--</span><span class="n">hg</span> <span class="o">&lt;</span><span class="n">hypergraph_database</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">outfile</span> <span class="o">&lt;</span><span class="n">json_file</span><span class="o">&gt;</span> <span class="n">export</span>
</pre></div>
</div>
</section>
<section id="import">
<h3>import<a class="headerlink" href="#import" title="Permalink to this heading"></a></h3>
<p>Imports a hypergraph database from a JSON file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graphbrain</span> <span class="o">--</span><span class="n">hg</span> <span class="o">&lt;</span><span class="n">hypergraph_database</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">infile</span> <span class="o">&lt;</span><span class="n">json_file</span><span class="o">&gt;</span> <span class="kn">import</span>
</pre></div>
</div>
</section>
<section id="txt">
<h3>txt<a class="headerlink" href="#txt" title="Permalink to this heading"></a></h3>
<p>Takes a text file as input and converts each one of its sentences to hyperedges, adding them to the hypergraph.</p>
<p>This is a very simple but also useful, general-purpose reader/parser.</p>
</section>
<section id="wikipedia">
<h3>wikipedia<a class="headerlink" href="#wikipedia" title="Permalink to this heading"></a></h3>
<p>Takes a wikipedia URL as input, extracts the contents and converts each one of its sentences to hyperedges, adding them to the hypergraph.</p>
</section>
<section id="reddit">
<h3>reddit<a class="headerlink" href="#reddit" title="Permalink to this heading"></a></h3>
<p>Takes a Reddit JSON corpus as input and converts each one of thread titles, and optionally thread comments to hyperedges, adding them to the hypergraph. Titles and comments are attributed to authors.</p>
</section>
<section id="taxonomy">
<h3>taxonomy<a class="headerlink" href="#taxonomy" title="Permalink to this heading"></a></h3>
<p>Derives a taxonomy from concepts defined with builders of modifiers. For example, <code class="docutils literal notranslate"><span class="pre">(of/Br.ma</span> <span class="pre">founder/Cc.s</span> <span class="pre">psychoanalysis/Cc.s)</span></code> is a type of <code class="docutils literal notranslate"><span class="pre">founder/Cc.s</span></code>, so the following hyperedge is added:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">type_of</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="p">(</span><span class="n">of</span><span class="o">/</span><span class="n">Br</span><span class="o">.</span><span class="n">ma</span> <span class="n">founder</span><span class="o">/</span><span class="n">Cc</span><span class="o">.</span><span class="n">s</span> <span class="n">psychoanalysis</span><span class="o">/</span><span class="n">Cc</span><span class="o">.</span><span class="n">s</span><span class="p">)</span> <span class="n">founder</span><span class="o">/</span><span class="n">Cc</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>Or, if we consider modifier-defined concepts such as <code class="docutils literal notranslate"><span class="pre">(black/Ma</span> <span class="pre">cat/Cc.s)</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">type_of</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="p">(</span><span class="n">black</span><span class="o">/</span><span class="n">Ma</span> <span class="n">cat</span><span class="o">/</span><span class="n">Cc</span><span class="o">.</span><span class="n">s</span><span class="p">)</span> <span class="n">cat</span><span class="o">/</span><span class="n">Cc</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="names">
<h3>names<a class="headerlink" href="#names" title="Permalink to this heading"></a></h3>
<p>Performs <a class="reference external" href="https://graphbrain.net/reference/special-relations.html#coreferences">coreference resolution</a> for compound proper name concepts, for example detecting that “Barack Obama” and “Obama” refer to the same person but “Michelle Obama” refers to someone else).</p>
</section>
<section id="onto">
<h3>onto<a class="headerlink" href="#onto" title="Permalink to this heading"></a></h3>
<p><strong>Depends on</strong>: taxonomy</p>
<p>Performs <a class="reference external" href="https://graphbrain.net/reference/special-relations.html#coreferences">coreference resolution</a> based on probabilistic reasoning over taxonomies. For example, detecting that “United States” and “United States of America” refer to the same entity.</p>
</section>
<section id="actors">
<h3>actors<a class="headerlink" href="#actors" title="Permalink to this heading"></a></h3>
<p><strong>Depends on</strong>: coreference resolution</p>
<p>We define actors as specific entities that are capable of acting in some sense. This simple command identifies hyperedges corresponding to actor by applying the following criteria:</p>
<ol class="arabic simple">
<li><p>The hyperedge or one of its coreferences appears at least two times as the subject of a declarative relation</p></li>
<li><p>The hyperedge is of type concept and subtype proper concept</p></li>
<li><p>If coreferences are used, the hyperedge is the main coreference</p></li>
</ol>
<p>This command transverses the entire hypergraph to identify actors, and then adds hyperedges like the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">actor</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="n">mary</span><span class="o">/</span><span class="n">Cp</span><span class="o">.</span><span class="n">s</span><span class="o">/</span><span class="n">en</span><span class="p">)</span>
</pre></div>
</div>
<p>The above simply means that <code class="docutils literal notranslate"><span class="pre">mary/Cp.s/en</span></code> was identified as an actor.</p>
</section>
<section id="claims">
<h3>claims<a class="headerlink" href="#claims" title="Permalink to this heading"></a></h3>
<p><strong>Depends on</strong>: coreference resolution</p>
<p>Identifies hyperedges that represent a claim. Claims are sentences such as: “North Korea says it’s not afraid of US military strike”. The claim is that “North Korea is not afraid of US military strike” and the author of the claim is “North Korea”.</p>
<p>More specifically, claims are detected according to the following criteria:</p>
<ol class="arabic simple">
<li><p>Hyperedge is a relation with predicate of type <code class="docutils literal notranslate"><span class="pre">Pd</span></code>.</p></li>
<li><p>The deep predicate atom of the predicate hyperedge has a lemma belonging to a predetermined lists of verb lemmas that denote a claim (e.g.: “say”, “claim”).</p></li>
<li><p>The hyperedge has a subject and a clausal complement. The first is used to identify the actor making the claim, the second the claim itself.</p></li>
</ol>
<p>Claim relations follow the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">claim</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="o">*</span><span class="n">actor</span><span class="o">*</span> <span class="o">*</span><span class="n">claim</span><span class="o">*</span> <span class="o">*</span><span class="n">edge</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
<p>Furthermore, simple anaphora resolution on the claim is performed (e.g. in “Pink Panther says that she loves pink.”, the hyperedge for “she” is replaced with the hyperedge for “Pink Panther” in the claim). In these cases, pronouns are used to guess gender or nature of actors. Actors can be classified as female:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">female</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="o">*</span><span class="n">actor</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
<p>Or as a group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">group</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="o">*</span><span class="n">actor</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
<p>Or as male:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">male</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="o">*</span><span class="n">actor</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
<p>Or as non-human:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">non</span><span class="o">-</span><span class="n">human</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="o">*</span><span class="n">actor</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="conflicts">
<h3>conflicts<a class="headerlink" href="#conflicts" title="Permalink to this heading"></a></h3>
<p><strong>Depends on</strong>: coreference resolution</p>
<p>Identifies hyperedges that represent a conflict. Conflicts are sentences such as: “Germany warns Russia against military engagement in Syria”. The source of the expression of conflict here is “Germany”, the target is “Russia” and the topic is “military engagement in Syria”.</p>
<p>More specifically, claims are detected according to the following criteria:</p>
<ol class="arabic simple">
<li><p>Hyperedge is a relation with predicate of type <code class="docutils literal notranslate"><span class="pre">Pd</span></code>.</p></li>
<li><p>The deep predicate atom of the predicate hyperedge has a lemma belonging to a predetermined lists of verb lemmas that denote an expression of conflict (e.g.: “warn”, “kill”).</p></li>
<li><p>The hyperedge has a subject and an object. The first is used to identify the actor originating the expression of conflict and the second the actor which is the target of this expression.</p></li>
<li><p>[optional] Beyond subject and object, if any specifier arguments are present, and their trigger atoms belong to a predetermined list (e.g. “over”, “against”), then topics of conflict are extracted from these specifiers.</p></li>
</ol>
<p>Conflict relations follow the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">conflict</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="o">*</span><span class="n">actor_orig</span><span class="o">*</span> <span class="o">*</span><span class="n">actor_targ</span><span class="o">*</span> <span class="o">*</span><span class="n">edge</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
<p>These conflict relations are connected to their topics by further relations with the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">conflict</span><span class="o">-</span><span class="n">topic</span><span class="o">/</span><span class="n">P</span><span class="o">/.</span> <span class="o">*</span><span class="n">actor_orig</span><span class="o">*</span> <span class="o">*</span><span class="n">actor_targ</span><span class="o">*</span> <span class="o">*</span><span class="n">concept</span><span class="o">*</span> <span class="o">*</span><span class="n">edge</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="notebooks.html" class="btn btn-neutral float-left" title="Notebooks and visualizations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="internals.html" class="btn btn-neutral float-right" title="Internals and extending Graphbrain" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 CNRS.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>